<app-modal [ID]='ID' [size]="'lg'" [title]="title" extra="true">

    <!-- Main content -->
    <form [formGroup]="form" (keydown.enter)="onSubmit()" content>

        <!-- Personal data -->
        <div class="row">
            <div class="col-12">
                <p class="font-weight-bold text-info mb-0">Datos de la empresa</p>
                <hr>
            </div>
            <div class="col-12">
                <div class="row">
                    <div class="col-12 form-group">
                        <label class="label w-100 text-center text-lg-left">Cargar imagen</label>
                        <app-input-img 
                            [control]="form.get('image')"
                            [align]="'left'"></app-input-img>
                    </div>
                    <div class="col-12">
                        <app-input-custom 
                            [id]="'URL'"
                            [control]="form.get('webSite')"
                            [submitted]="submitted"
                            [patternMsg]="'Introduzca una URL valida'"
                            [label]="'URL del sitio web'"  
                            [placeholder]="'URL del sitio web'"></app-input-custom>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-12 col-lg-6">
                        <app-input-custom 
                            [placeholder]="'Nombre de la empresa'"
                            [label]="'Nombre de la empresa'"
                            [control]="form.get('name')" 
                            [submitted]="submitted"></app-input-custom>
                    </div>
                    <div class="col-12 col-lg-6">
                        <app-form-document 
                            [onlyCompany]="true"
                            [submitted]="submitted"
                            [control]="form.get('companyRif')"
                            [controlSelect]="form.get('cardType')"></app-form-document>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 col-lg-6">
                        <app-input-phone 
                            [control]="form.get('companyPhone')"
                            [id]="'company-phone'"
                            [label]="'Teléfono de la empresa'"
                            [placeholder]="'Teléfono de la empresa'"
                            [submitted]="submitted"></app-input-phone>
                    </div>                   
                    
                    <div class="col-12 col-lg-6">
                        <app-select-role 
                            (onselected)="onselected($event)" 
                            [control]="form.get('role')"
                            [submitted]="submitted"></app-select-role>
                    </div>
                    
                    <div class="col-12 col-lg-6">
                        <app-input-email [control]="form.get('email')" [submitted]="submitted"></app-input-email>
                    </div>

                    <div class="col-12 col-lg-6">
                        <app-input-password [control]="form.get('password')" [submitted]="submitted">
                        </app-input-password>
                    </div>
                    <div class="col-12 col-lg-6">
                        <app-type-company 
                            [companyType]="form.get('companyType')"
                            [companyOtherType]="form.get('companyOtherType')"
                            [submitted]="submitted"></app-type-company>
                    </div> 
                </div>
            </div>
        </div><!-- / End personal data -->

        <div class="row mt-3">
            <div class="col-12">
                <p class="font-weight-bold text-info mb-0">Datos de la persona de contacto</p>
                <hr>
            </div>
            <div class="col-12 col-lg-6">
                <app-input-name 
                    [id]="'contact-name'"
                    [control]="form.get('contactFirstName')"
                    [label]="'Nombre de la persona de contacto'"
                    [placeholder]="'Nombre de la persona de contacto'"
                    [submitted]="submitted"></app-input-name>
            </div>
            <div class="col-12 col-lg-6">
                <app-input-last-name 
                    [id]="'contact-last-name'"
                    [control]="form.get('contactLastName')"
                    [label]="'Apellido de la persona de contacto'"
                    [placeholder]="'Apellido de la persona de contacto'"
                    [submitted]="submitted"></app-input-last-name>
            </div>

            <div class="col-12 col-lg-6">
                <app-input-phone 
                    [id]="'personal-phone'"
                    [control]="form.get('contactPhone')"
                    [label]="'Teléfono de la persona de contacto'"
                    [placeholder]="'Teléfono de la persona de contacto'"
                    [submitted]="submitted"></app-input-phone>
            </div>
        </div> 

        <!-- Address data -->
        <div class="row mt-3">
            <div class="col-12">
                <p class="font-weight-bold text-info mb-0">Dirección</p>
                <hr>
            </div>
            <div class="col-12">
                <app-address-sponsor 
                    [idState]="idState"
                    [state]="form.get('addressState')" 
                    [municipality]="form.get('addressMunicipality')"
                    [control]="form.get('address')" 
                    [addressCity]="form.get('addressCity')"
                    [submitted]="submitted"></app-address-sponsor>
            </div>
        </div><!-- / End address data -->

        <div class="row">
            <div class="col-12">
                <hr>
            </div>
            <div class="col-12 col-lg-6">
                <app-select-status [control]="form.get('status')" [submitted]="submitted">
                </app-select-status>
            </div>
        </div>
    </form><!-- / End main content -->

    <!-- Footer content -->
    <button [attr.disabled]="progress != 0 ? true: null" [nbSpinner]="progress == 0 ? null : true"
        nbSpinnerStatus="success" button type="submit" (click)="onSubmit()" class="btn btn-primary col-6 col-md-auto"
        [ngClass]="{'btn-primary': MODE == ACTION.EDIT, 'btn-success': MODE == ACTION.CREATE}">
        <span *ngIf="MODE == ACTION.CREATE && progress == 0">Guardar</span>
        <span *ngIf="progress != 0">Guardando...</span>
        <span *ngIf="MODE == ACTION.EDIT && progress == 0">Editar</span>
    </button>
</app-modal>